chrome.storage.local.get(["ASSESSMENT_PANEL_OPACITY"],e=>{document.getElementById("opacity-input").value=e.ASSESSMENT_PANEL_OPACITY;}),chrome.storage.local.get(["ASSESSMENT_INTERVAL_MS"],e=>{document.getElementById("interval-input").value=e.ASSESSMENT_INTERVAL_MS;}),chrome.storage.local.get(["ASSESSMENT_MODE"],e=>{e="mode-"+e.ASSESSMENT_MODE;document.getElementById(e).setAttribute("active",!0);}),chrome.storage.local.get(["ASSESSMENT_PANEL_LAYOUT"],e=>{document.getElementById(e.ASSESSMENT_PANEL_LAYOUT).setAttribute("active",!0);});const buttons=["mode-remote","mode-auto","mode-manual"],handle_mode_change=e=>{const t=e.target.id;buttons.forEach(e=>{document.getElementById(e).removeAttribute("active");}),document.getElementById(t).setAttribute("active",!0);e=t.match(/mode-([a-zA-Z]+)/)[1];chrome.storage.local.set({ASSESSMENT_MODE:e});};buttons.forEach((e,t)=>{document.getElementById(e).addEventListener("click",handle_mode_change);});const layout_buttons=["top","middle","bottom"],handle_layout_change=e=>{e=e.target.id;layout_buttons.forEach(e=>{document.getElementById(e).removeAttribute("active");}),document.getElementById(e).setAttribute("active",!0),chrome.storage.local.set({ASSESSMENT_PANEL_LAYOUT:e});};layout_buttons.forEach(e=>{document.getElementById(e).addEventListener("click",handle_layout_change);}),document.getElementById("save-button").addEventListener("click",e=>{let t=document.getElementById("opacity-input").value;100<t?(t=100,document.getElementById("opacity-input").value=100):t<0&&(t=0,document.getElementById("opacity-input").value=0);let o=document.getElementById("interval-input").value;o<0&&(o=1e3,document.getElementById("interval-input").value=1e3);var n={ASSESSMENT_PANEL_OPACITY:[t],ASSESSMENT_INTERVAL_MS:[o]};chrome.storage.local.set(n,()=>{chrome.tabs.query({active:!0,currentWindow:!0},function(e){chrome.tabs.update(e[0].id,{url:e[0].url});});});});
